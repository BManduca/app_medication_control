{% extends "base.html" %}
{% block title %} Registrar Uso de Medicamento {% endblock %}

{% import 'partials/_form_field.html' as form_fields %}
{% import 'partials/_buttons.html' as buttons %}

{% block content %}
<div class="max-w-xl mx-auto mt-10 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow">

  <!-- inclusão mensagens flash -->
  {% include 'partials/_flash_messages.html' %}

  <h1 class="text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100">
    Registrar uso de {{ medication.name }}
  </h1>

  <form method="POST" class="space-y-4" novalidate>
    {{ form.hidden_tag() }}

    {{ form_fields.render_field(form.quantity, placeholder='Quantidade usada') }}
    {{ form_fields.render_field(form.observation, placeholder='Observação') }}

    <div class="m-6 grid place-items-center" x-data="{ loading: false }">
      {{ buttons.render_button(
        text='Registrar',
        type='submit',
        icon='check',
        classes="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-2xl shadow-md transition duration-150"
      ) }}
    </div>
  </form>

  <div class="mt-6 text-center">
    {{ buttons.render_button(
      text='Voltar para lista de medicamentos',
      href=url_for('medication.list_medications'),
      icon='arrow-left',
      classes='text-blue-600 hover:underline dark:text-blue-400'
    ) }}
  </div>
</div>
{% endblock %}
